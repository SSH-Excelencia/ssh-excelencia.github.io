<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Listas Chequeo</title>
  <link rel="icon" type="image/png" href="Image/logo1fav.png">
  <link rel="stylesheet" href="style.css" />
</head>



<body>
  <header class="sticky">

    <img id="logo-header" src="Image/logo1.png" alt="Logo o Banner" class="contenedor-circular" />
    <h1>Listas de Chequeo Auditorias</h1>

    <!-- Botones de acciones ahora en el header -->
    <div class="acciones-header">
      <button id="btnReiniciar" class="btn danger" aria-label="Reinciar la aplicaci칩n">游댃 Reiniciar Evaluaci칩n</button>
      <button id="btn-export-pdf" class="btn secundario" aria-label="Salir de la aplicaci칩n">Salir</button>
      <!-- <button id="btn-testOv" class="btn secundario" aria-label="Test overlay">Test overlay</button> -->
    </div>
  </header>

  <!-- Bloque 1: Datos del evaluador -->
  <section id="form-inicial" class="bloque sticky">
    <h2>Datos del Evaluador</h2>
    <div class="grid2">
      <!-- Nombre -->
      <label>
        Nombre IPS / Profesional Independiente
        <input type="text" id="nombreIps" placeholder="Ingrese nombre" />
      </label>
      <!-- N칰mero de contacto + bot칩n en la misma l칤nea -->
      <label style="text-align: center;">
        Datos de contacto
        <div class="contacto-boton">
          <input type="text" id="numeroContacto" placeholder="N칰mero contacto" />
          <input type="email" id="correoElectronico" placeholder="Ingrese correo electr칩nico" />
          <button id="btnContinuar" class="btn primario" aria-label="Opci칩n de continuar">Continuar</button>
        </div>
      </label>
    </div>
  </section>
  <main>
    <!-- Bloque 2: Panel inicial -->
    <section id="panel-inicial" class="bloque sticky" style="visibility: hidden;">
      <!-- style="opacity:0.5; pointer-events:none;"> -->

      <!-- Campo 1: Men칰 + Resumen -->
      <div class="campo menu-resumen">
        <!-- Men칰 de selecci칩n -->
        <label for="menu-tablas"><strong>Selecciona Tabla</strong></label>
        <select id="menu-tablas">
          <option value="" selected>Seleccione...</option>
        </select>

        <!-- Resumen de la tabla -->
        <h3>Resumen</h3>
        <div style="display:flex">
          <ul class="lista-metrica" style="width: 85%">
            <li><span>Cumple</span><strong id="num-cumple">0</strong></li>
            <li><span>No cumple</span><strong id="num-nocumple">0</strong></li>
            <li><span>No aplica</span><strong id="num-noaplica">0</strong></li>
          </ul>
          <ul class="lista-metrica" style="width: 10%">
            <li><span></span><strong id="p-cumple">0</strong></li>
            <li><span></span><strong id="p-nocumple">0</strong></li>
            <li><span></span><strong id="p-noaplica">0</strong></li>
          </ul>
        </div>
      </div>

      <!-- Campo 3: Gr치ficas -->
      <div class="campo graficos">
        <div class="contenedor-graficas">
          <div class="grafica">
            <canvas id="graficaBarras"></canvas>
          </div>
          <div class="grafica">
            <canvas id="graficaTorta"></canvas>
          </div>
        </div>
      </div>

      <!-- Campo 4: Acciones -->
      <div class="campo acciones acciones-horizontal">
        <div class="exportar-header">
          <h3 class="titulo-derecha">Exportar</h3>
          <!-- Selector PDF / Word -->
          <div class="export-toggle">
            <span class="toggle-label">PDF</span>
            <label class="switch">
              <input type="checkbox" id="tipo-exportacion">
              <span class="slider"></span>
            </label>
            <span class="toggle-label">Word</span>
          </div>
        </div>
        <!-- Botones apilados verticales -->
        <div style="display:flex; justify-content:center; align-items:center; gap:10px;">
          <button id="btn-export-word" class="btn secundario" aria-label="Exportar Hoja">Exportar Hoja</button>
          <button id="btn-export-todo" class="btn secundario" aria-label="Exportar Todo">Exportar Todo</button>
        </div>
      </div>
        <div class="fila"></div>
        <!-- Nota sobre el nombre del archivo -->
        <ul class="lista-metrica">
          <li><span>Total criterios</span><strong id="num-criterios">0</strong></li>
          <li><span>Pendientes</span><strong id="num-ptes">0</strong></li>
        </ul>
        <div class="progreso-contenedor">
          <div id="barra-progreso"></div>
        </div>
      </div>

    </section>

    <!-- Bloque 3: Contenedor tabla Excel -->
    <section id="tabla-excel" class="bloque sticky">
      <!-- Se carga din치micamente -->
    </section>
  </main>

  <div id="overlay" class="oculto">
    <div id="overlay-contenido">
      <p id="overlay-texto"></p>
      <button id="overlay-continuar" class="boton-overlay">Continuar</button>
      <button id="overlay-cancelar" class="boton-overlay">Cancelar</button>

    </div>
  </div>


  <!-- Librer칤as -->
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
  <script src="https://cdn.jsdelivr.net/npm/docx@8.5.0/build/index.umd.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
  

  <!-- Script app -->
  <script type="module" src="src/script.js"></script>
</body>

</html>
